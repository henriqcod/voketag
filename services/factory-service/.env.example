# Factory Service - Environment variables
# Copy to .env and fill in values.

# Application
ENV=development
PORT=8080

# Database (PostgreSQL, shared with Admin/Blockchain)
DATABASE_URL=postgresql+asyncpg://voketag:voketag@localhost:5432/voketag

# Redis (broker, cache, rate limit)
REDIS_URL=redis://localhost:6379/0
REDIS_TIMEOUT_MS=100

# JWT (shared secret with Admin)
JWT_JWKS_URI=
JWT_ISSUER=
JWT_AUDIENCE=
HMAC_SECRET=change-me-in-production

# Admin internal API (for retry from Admin dashboard)
ADMIN_INTERNAL_API_KEY=
# Admin login proxy - must match Admin JWT secret for token validation
ADMIN_API_URL=http://127.0.0.1:8082
ADMIN_JWT_SECRET=change-me-in-production

# Celery
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Blockchain service
BLOCKCHAIN_SERVICE_URL=http://localhost:8003

# Verification URL base (app frontend)
VERIFICATION_URL_BASE=https://app.voketag.com

# Optional: webhook when batch completes
BATCH_COMPLETION_WEBHOOK_URL=

# Anchor polling / callback
ANCHOR_POLL_TIMEOUT_SECONDS=600
ANCHOR_POLL_INTERVAL_SECONDS=5
ANCHOR_CALLBACK_BASE_URL=
ANCHOR_CALLBACK_INTERNAL_KEY=

# CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# OpenTelemetry (optional)
OTEL_ENABLED=true
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# GCP (optional, for Pub/Sub)
GCP_PROJECT_ID=
PUBSUB_TOPIC_SCAN=scan-events
